{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport * as React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { Picker } from \"@react-native-picker/picker\";\nimport Icon from \"@expo/vector-icons/Feather\";\nimport { COLORS, DIMENS } from \"../constants/styles\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { _removeStorageItem, generateRandomCode, MyDate } from \"../helpers/functions\";\nimport { DiagnosisContext } from \"../providers/Diagnosis\";\nimport CustomHeader from \"../ui/custom-header\";\nimport Loader from \"../ui/loader\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar NewDiagnosis = function NewDiagnosis(_ref) {\n  var navigation = _ref.navigation;\n  var diagnosisContext = React.useContext(DiagnosisContext);\n  var diagnoses = diagnosisContext.diagnoses;\n\n  var _React$useState = React.useState({\n    isLoading: false,\n    fullname: \"\",\n    gender: \"female\",\n    age_group: \"\",\n    phone: \"\",\n    condition: \"\",\n    isPregnant: false,\n    diagnosises: []\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      state = _React$useState2[0],\n      setState = _React$useState2[1];\n\n  var save = function save() {\n    var fullname, gender, age_group, phone, condition, isPregnant, code, date, newstate;\n    return _regeneratorRuntime.async(function save$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            fullname = state.fullname, gender = state.gender, age_group = state.age_group, phone = state.phone, condition = state.condition, isPregnant = state.isPregnant;\n            code = generateRandomCode(5), date = MyDate();\n            newstate = {\n              code: code,\n              date: date,\n              fullname: fullname,\n              msdn: phone,\n              gender: gender,\n              age_group: age_group,\n              condition: condition,\n              isPregnant: isPregnant,\n              followups: [],\n              uploaded: false\n            };\n\n            if (fullname && gender && age_group && condition) {\n              setState(_objectSpread(_objectSpread({}, state), {}, {\n                isLoading: true\n              }));\n              AsyncStorage.setItem(\"@diagnosis\", JSON.stringify([newstate].concat(_toConsumableArray(diagnoses))), function () {\n                diagnosisContext.setDiagnoses([newstate].concat(_toConsumableArray(diagnoses)));\n                Alert.alert(\"Saved\", \"Diagnosis code: \" + code, [{\n                  text: \"OK\"\n                }]);\n                setState({\n                  fullname: \"\",\n                  gender: \"\",\n                  age_group: \"\",\n                  phone: \"\",\n                  condition: \"\",\n                  isPregnant: false,\n                  followups: [],\n                  isLoading: false\n                });\n              });\n            } else {\n              Alert.alert(\"Ooops!\", \"Complete all fields\", [{\n                text: \"OK\"\n              }]);\n            }\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var _header = function _header() {\n    return _jsx(CustomHeader, {\n      left: _jsx(TouchableOpacity, {\n        style: {\n          marginHorizontal: 4,\n          width: 35,\n          height: 35,\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        onPress: function onPress() {\n          return navigation.goBack();\n        },\n        children: _jsx(Icon, {\n          name: \"arrow-left\",\n          size: 25,\n          color: COLORS.BLACK\n        })\n      }),\n      title: _jsx(Text, {\n        style: [STYLES.centerHeader, STYLES.title],\n        children: \"Enter details\"\n      }),\n      right: _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return save();\n        },\n        style: {\n          marginHorizontal: 4,\n          width: 35,\n          height: 35,\n          borderRadius: 100,\n          backgroundColor: COLORS.BLACK,\n          borderColor: COLORS.BLACK,\n          borderStyle: \"solid\",\n          borderWidth: 1,\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        children: _jsx(Icon, {\n          name: \"check\",\n          size: 25,\n          color: COLORS.WHITE\n        })\n      })\n    });\n  };\n\n  if (state.isLoading) return _jsx(Loader, {});\n  return _jsxs(View, {\n    style: STYLES.wrapper,\n    children: [_jsx(StatusBar, {\n      backgroundColor: COLORS.WHITE_LOW,\n      barStyle: \"dark-content\"\n    }), _header(), _jsxs(ScrollView, {\n      style: STYLES.body,\n      keyboardDismissMode: \"on-drag\",\n      children: [_jsx(Text, {\n        style: STYLES.terms,\n        children: \"Enter patient details.\"\n      }), _jsx(TextInput, {\n        style: STYLES.input,\n        autoCorrect: false,\n        placeholderTextColor: \"rgba(0,0,0,0.7)\",\n        selectionColor: COLORS.SECONDARY,\n        onChangeText: function onChangeText(text) {\n          return setState(_objectSpread(_objectSpread({}, state), {}, {\n            fullname: text\n          }));\n        },\n        value: state.fullname,\n        placeholder: \"Full name\"\n      }), _jsx(View, {\n        style: STYLES.pickers,\n        children: _jsxs(Picker, {\n          selectedValue: state.gender,\n          onValueChange: function onValueChange(value, index) {\n            return setState(_objectSpread(_objectSpread({}, state), {}, {\n              gender: value\n            }));\n          },\n          children: [_jsx(Picker.Item, {\n            label: \"Gender\",\n            value: \"Gender\"\n          }), _jsx(Picker.Item, {\n            label: \"Female\",\n            value: \"Female\"\n          }), _jsx(Picker.Item, {\n            label: \"Male\",\n            value: \"Male\"\n          }), _jsx(Picker.Item, {\n            label: \"Other\",\n            value: \"Other\"\n          })]\n        })\n      }), _jsxs(View, {\n        style: STYLES.labeled,\n        children: [_jsxs(Text, {\n          style: STYLES.label,\n          children: [\"Is pregnant? \", state.isPregnant == false ? \"No\" : \"Yes\"]\n        }), _jsx(Switch, {\n          style: STYLES.field,\n          onValueChange: function onValueChange(text) {\n            return setState(_objectSpread(_objectSpread({}, state), {}, {\n              isPregnant: text\n            }));\n          },\n          value: state.isPregnant\n        })]\n      }), _jsx(View, {\n        style: STYLES.pickers,\n        children: _jsxs(Picker, {\n          selectedValue: state.age_group,\n          onValueChange: function onValueChange(value, index) {\n            return setState(_objectSpread(_objectSpread({}, state), {}, {\n              age_group: value\n            }));\n          },\n          children: [_jsx(Picker.Item, {\n            label: \"Age group\",\n            value: \"Age group\"\n          }), _jsx(Picker.Item, {\n            label: \"0 - 3\",\n            value: \"0 - 3\"\n          }), _jsx(Picker.Item, {\n            label: \"3 - 10\",\n            value: \"3 - 10\"\n          }), _jsx(Picker.Item, {\n            label: \"10 - 17\",\n            value: \"10 - 17\"\n          }), _jsx(Picker.Item, {\n            label: \"17 - 40\",\n            value: \"17 - 40\"\n          }), _jsx(Picker.Item, {\n            label: \"40 - 60\",\n            value: \"40 - 60\"\n          }), _jsx(Picker.Item, {\n            label: \"60 above\",\n            value: \"60 above\"\n          })]\n        })\n      }), _jsx(TextInput, {\n        style: STYLES.input,\n        autoCorrect: false,\n        placeholderTextColor: \"rgba(0,0,0,0.7)\",\n        selectionColor: COLORS.SECONDARY,\n        onChangeText: function onChangeText(text) {\n          return setState(_objectSpread(_objectSpread({}, state), {}, {\n            phone: text\n          }));\n        },\n        value: state.phone,\n        placeholder: \"Phone number\"\n      }), _jsx(TextInput, {\n        style: STYLES.textarea,\n        autoCorrect: false,\n        multiline: true,\n        placeholderTextColor: \"rgba(0,0,0,0.7)\",\n        selectionColor: COLORS.SECONDARY,\n        onChangeText: function onChangeText(text) {\n          return setState(_objectSpread(_objectSpread({}, state), {}, {\n            condition: text\n          }));\n        },\n        value: state.condition,\n        placeholder: \"Patience condition\"\n      })]\n    })]\n  });\n};\n\nexport default NewDiagnosis;\nvar STYLES = StyleSheet.create({\n  wrapper: {\n    flex: 1,\n    backgroundColor: COLORS.WHITE_LOW\n  },\n  header: {\n    flex: 1\n  },\n  body: {\n    flex: 2,\n    paddingHorizontal: 20\n  },\n  alert: {\n    color: COLORS.GREY,\n    textAlign: \"center\",\n    marginTop: 15\n  },\n  subtitle: {\n    flexDirection: \"row\",\n    fontSize: 10,\n    color: COLORS.GREY\n  },\n  label: {\n    fontWeight: \"bold\",\n    marginLeft: 5,\n    marginRight: 5\n  },\n  title: {\n    fontWeight: \"bold\",\n    color: COLORS.SECONDARY,\n    alignItems: \"center\",\n    flexGrow: 1\n  },\n  leftHeader: {\n    marginLeft: 10,\n    flex: 1\n  },\n  centerHeader: {\n    flex: 2,\n    alignItems: \"center\"\n  },\n  rightHeader: {\n    paddingRight: 10\n  },\n  tip: {\n    color: \"rgba(0,0,0,0.4)\",\n    paddingTop: 15,\n    paddingBottom: 15\n  },\n  input: {\n    color: \"rgba(0,0,0,0.7)\",\n    borderRadius: 50,\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    borderColor: COLORS.GREY,\n    borderStyle: \"solid\",\n    borderWidth: 1,\n    marginBottom: 10,\n    backgroundColor: COLORS.GREY_LIGHTER\n  },\n  textarea: {\n    color: \"rgba(0,0,0,0.7)\",\n    minHeight: 70,\n    borderRadius: 10,\n    paddingHorizontal: 15,\n    paddingVertical: 5,\n    borderColor: COLORS.GREY,\n    borderStyle: \"solid\",\n    borderWidth: 1,\n    marginBottom: 10\n  },\n  terms: {\n    paddingVertical: 10,\n    textAlign: \"center\",\n    color: \"grey\"\n  },\n  pickers: {\n    borderColor: COLORS.GREY,\n    borderStyle: \"solid\",\n    borderWidth: 1,\n    borderRadius: 50,\n    paddingHorizontal: 15,\n    paddingVertical: -10,\n    marginBottom: 10\n  },\n  labeled: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    marginTop: 10,\n    marginBottom: 10,\n    borderColor: COLORS.GREY,\n    borderStyle: \"solid\",\n    borderWidth: 1,\n    borderRadius: 50\n  },\n  label: {\n    flex: 2\n  },\n  field: {\n    flex: 1,\n    justifyContent: \"flex-end\"\n  },\n  submit: {\n    flexDirection: \"row\",\n    padding: DIMENS.PADDING,\n    paddingHorizontal: 15,\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: COLORS.PRIMARY,\n    borderRadius: 50\n  },\n  submitText: {\n    color: COLORS.BLACK,\n    textAlign: \"center\",\n    textTransform: \"uppercase\",\n    fontWeight: \"bold\"\n  }\n});","map":{"version":3,"sources":["/Users/davidofug/Documents/Apps/mobile-apps/mobiklinic/components/screens/diagnosis.new.js"],"names":["React","Picker","Icon","COLORS","DIMENS","AsyncStorage","_removeStorageItem","generateRandomCode","MyDate","DiagnosisContext","CustomHeader","Loader","NewDiagnosis","navigation","diagnosisContext","useContext","diagnoses","useState","isLoading","fullname","gender","age_group","phone","condition","isPregnant","diagnosises","state","setState","save","code","date","newstate","msdn","followups","uploaded","setItem","JSON","stringify","setDiagnoses","Alert","alert","text","_header","marginHorizontal","width","height","justifyContent","alignItems","goBack","BLACK","STYLES","centerHeader","title","borderRadius","backgroundColor","borderColor","borderStyle","borderWidth","WHITE","wrapper","WHITE_LOW","body","terms","input","SECONDARY","pickers","value","index","labeled","label","field","textarea","StyleSheet","create","flex","header","paddingHorizontal","color","GREY","textAlign","marginTop","subtitle","flexDirection","fontSize","fontWeight","marginLeft","marginRight","flexGrow","leftHeader","rightHeader","paddingRight","tip","paddingTop","paddingBottom","paddingVertical","marginBottom","GREY_LIGHTER","minHeight","submit","padding","PADDING","PRIMARY","submitText","textTransform"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport {\n  View,\n  Alert,\n  Switch,\n  ScrollView,\n  TextInput,\n  TouchableOpacity,\n  Text,\n  StyleSheet,\n  StatusBar,\n  Button,\n} from \"react-native\";\n\nimport { Picker } from \"@react-native-picker/picker\";\nimport Icon from \"react-native-vector-icons/Feather\";\n\nimport { COLORS, DIMENS } from \"../constants/styles\";\n\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nimport {\n  _removeStorageItem,\n  generateRandomCode,\n  MyDate,\n} from \"../helpers/functions\";\n\nimport { DiagnosisContext } from \"../providers/Diagnosis\";\nimport CustomHeader from \"../ui/custom-header\";\nimport Loader from \"../ui/loader\";\n\nconst NewDiagnosis = ({ navigation }) => {\n  const diagnosisContext = React.useContext(DiagnosisContext);\n  const { diagnoses } = diagnosisContext;\n\n  const [state, setState] = React.useState({\n    isLoading: false,\n    fullname: \"\",\n    gender: \"female\",\n    age_group: \"\",\n    phone: \"\",\n    condition: \"\",\n    isPregnant: false,\n    diagnosises: [],\n  });\n\n  const save = async () => {\n    const { fullname, gender, age_group, phone, condition, isPregnant } = state;\n    const code = generateRandomCode(5),\n      date = MyDate();\n\n    const newstate = {\n      code,\n      date,\n      fullname,\n      msdn: phone,\n      gender,\n      age_group,\n      condition,\n      isPregnant,\n      followups: [],\n      uploaded: false,\n    };\n\n    if (fullname && gender && age_group && condition) {\n      // const data = await AsyncStorage.getItem('@diagnosis')\n      // const prevstate = data !== null ? JSON.parse(data) : []\n      setState({ ...state, isLoading: true });\n\n      AsyncStorage.setItem(\n        \"@diagnosis\",\n        JSON.stringify([newstate, ...diagnoses]),\n        () => {\n          diagnosisContext.setDiagnoses([newstate, ...diagnoses]);\n\n          Alert.alert(\"Saved\", `Diagnosis code: ${code}`, [{ text: \"OK\" }]);\n\n          setState({\n            fullname: \"\",\n            gender: \"\",\n            age_group: \"\",\n            phone: \"\",\n            condition: \"\",\n            isPregnant: false,\n            followups: [],\n            isLoading: false,\n          });\n        }\n      );\n    } else {\n      Alert.alert(\"Ooops!\", \"Complete all fields\", [{ text: \"OK\" }]);\n    }\n  };\n\n  const _header = () => (\n    <CustomHeader\n      left={\n        <TouchableOpacity\n          style={{\n            marginHorizontal: 4,\n            width: 35,\n            height: 35,\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n          onPress={() => navigation.goBack()}\n        >\n          <Icon name=\"arrow-left\" size={25} color={COLORS.BLACK} />\n        </TouchableOpacity>\n      }\n      title={\n        <Text style={[STYLES.centerHeader, STYLES.title]}>Enter details</Text>\n      }\n      right={\n        <TouchableOpacity\n          onPress={() => save()}\n          style={{\n            marginHorizontal: 4,\n            width: 35,\n            height: 35,\n            borderRadius: 100,\n            backgroundColor: COLORS.BLACK,\n            borderColor: COLORS.BLACK,\n            borderStyle: \"solid\",\n            borderWidth: 1,\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <Icon name=\"check\" size={25} color={COLORS.WHITE} />\n        </TouchableOpacity>\n      }\n    />\n  );\n\n  if (state.isLoading) return <Loader />;\n\n  return (\n    <View style={STYLES.wrapper}>\n      <StatusBar backgroundColor={COLORS.WHITE_LOW} barStyle=\"dark-content\" />\n\n      {_header()}\n\n      <ScrollView style={STYLES.body} keyboardDismissMode=\"on-drag\">\n        <Text style={STYLES.terms}>Enter patient details.</Text>\n        <TextInput\n          style={STYLES.input}\n          autoCorrect={false}\n          placeholderTextColor=\"rgba(0,0,0,0.7)\"\n          selectionColor={COLORS.SECONDARY}\n          onChangeText={(text) => setState({ ...state, fullname: text })}\n          value={state.fullname}\n          placeholder=\"Full name\"\n        />\n\n        <View style={STYLES.pickers}>\n          <Picker\n            selectedValue={state.gender}\n            onValueChange={(value, index) =>\n              setState({ ...state, gender: value })\n            }\n          >\n            <Picker.Item label=\"Gender\" value=\"Gender\" />\n            <Picker.Item label=\"Female\" value=\"Female\" />\n            <Picker.Item label=\"Male\" value=\"Male\" />\n            <Picker.Item label=\"Other\" value=\"Other\" />\n          </Picker>\n        </View>\n\n        <View style={STYLES.labeled}>\n          <Text style={STYLES.label}>\n            Is pregnant? {state.isPregnant == false ? \"No\" : \"Yes\"}\n          </Text>\n          <Switch\n            style={STYLES.field}\n            onValueChange={(text) => setState({ ...state, isPregnant: text })}\n            value={state.isPregnant}\n          />\n        </View>\n\n        <View style={STYLES.pickers}>\n          <Picker\n            selectedValue={state.age_group}\n            onValueChange={(value, index) =>\n              setState({ ...state, age_group: value })\n            }\n          >\n            <Picker.Item label=\"Age group\" value=\"Age group\" />\n            <Picker.Item label=\"0 - 3\" value=\"0 - 3\" />\n            <Picker.Item label=\"3 - 10\" value=\"3 - 10\" />\n            <Picker.Item label=\"10 - 17\" value=\"10 - 17\" />\n            <Picker.Item label=\"17 - 40\" value=\"17 - 40\" />\n            <Picker.Item label=\"40 - 60\" value=\"40 - 60\" />\n            <Picker.Item label=\"60 above\" value=\"60 above\" />\n          </Picker>\n        </View>\n\n        <TextInput\n          style={STYLES.input}\n          autoCorrect={false}\n          placeholderTextColor=\"rgba(0,0,0,0.7)\"\n          selectionColor={COLORS.SECONDARY}\n          onChangeText={(text) => setState({ ...state, phone: text })}\n          value={state.phone}\n          placeholder=\"Phone number\"\n        />\n\n        <TextInput\n          style={STYLES.textarea}\n          autoCorrect={false}\n          multiline={true}\n          placeholderTextColor=\"rgba(0,0,0,0.7)\"\n          selectionColor={COLORS.SECONDARY}\n          onChangeText={(text) => setState({ ...state, condition: text })}\n          value={state.condition}\n          placeholder=\"Patience condition\"\n        />\n      </ScrollView>\n    </View>\n  );\n};\n\nexport default NewDiagnosis;\n\nconst STYLES = StyleSheet.create({\n  wrapper: {\n    flex: 1,\n    backgroundColor: COLORS.WHITE_LOW,\n  },\n  header: {\n    flex: 1,\n  },\n  body: {\n    flex: 2,\n    paddingHorizontal: 20,\n  },\n  alert: {\n    color: COLORS.GREY,\n    textAlign: \"center\",\n    marginTop: 15,\n  },\n  subtitle: {\n    flexDirection: \"row\",\n    fontSize: 10,\n    color: COLORS.GREY,\n  },\n  label: {\n    fontWeight: \"bold\",\n    marginLeft: 5,\n    marginRight: 5,\n  },\n  title: {\n    fontWeight: \"bold\",\n    color: COLORS.SECONDARY,\n    alignItems: \"center\",\n    flexGrow: 1,\n  },\n  leftHeader: {\n    marginLeft: 10,\n    flex: 1,\n  },\n  centerHeader: {\n    flex: 2,\n    alignItems: \"center\",\n  },\n  rightHeader: {\n    paddingRight: 10,\n  },\n  tip: {\n    color: \"rgba(0,0,0,0.4)\",\n    paddingTop: 15,\n    paddingBottom: 15,\n  },\n  input: {\n    color: \"rgba(0,0,0,0.7)\",\n    borderRadius: 50,\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    borderColor: COLORS.GREY,\n    borderStyle: \"solid\",\n    borderWidth: 1,\n    marginBottom: 10,\n    backgroundColor: COLORS.GREY_LIGHTER,\n  },\n  textarea: {\n    color: \"rgba(0,0,0,0.7)\",\n    minHeight: 70,\n    borderRadius: 10,\n    paddingHorizontal: 15,\n    paddingVertical: 5,\n    borderColor: COLORS.GREY,\n    borderStyle: \"solid\",\n    borderWidth: 1,\n    marginBottom: 10,\n  },\n  terms: {\n    paddingVertical: 10,\n    textAlign: \"center\",\n    color: \"grey\",\n  },\n  pickers: {\n    // borderBottomColor: 'rgba(0,0,0,0.7)',\n    // borderBottomWidth:1,\n    borderColor: COLORS.GREY,\n    borderStyle: \"solid\",\n    borderWidth: 1,\n    borderRadius: 50,\n    paddingHorizontal: 15,\n    paddingVertical: -10,\n    marginBottom: 10,\n  },\n  labeled: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    marginTop: 10,\n    marginBottom: 10,\n    borderColor: COLORS.GREY,\n    borderStyle: \"solid\",\n    borderWidth: 1,\n    borderRadius: 50,\n  },\n  label: {\n    flex: 2,\n  },\n  field: {\n    flex: 1,\n    justifyContent: \"flex-end\",\n  },\n  submit: {\n    flexDirection: \"row\",\n    padding: DIMENS.PADDING,\n    paddingHorizontal: 15,\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: COLORS.PRIMARY,\n    borderRadius: 50,\n  },\n  submitText: {\n    color: COLORS.BLACK,\n    textAlign: \"center\",\n    textTransform: \"uppercase\",\n    fontWeight: \"bold\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}