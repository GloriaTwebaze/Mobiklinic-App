{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport * as React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport { Picker } from \"@react-native-picker/picker\";\nimport Icon from \"@expo/vector-icons/Feather\";\nimport { COLORS, DIMENS } from \"../constants/styles\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { MyDate } from \"../helpers/functions\";\nimport Loader from \"../ui/loader\";\nimport { DiagnosisContext } from \"../providers/Diagnosis\";\nimport CustomHeader from \"../ui/custom-header\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar FollowUp = function FollowUp(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var diagnosisContext = React.useContext(DiagnosisContext);\n  var diagnoses = diagnosisContext.diagnoses;\n\n  var _React$useState = React.useState({\n    id: route.params.item,\n    type: 0,\n    details: \"\",\n    isLoading: false\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      state = _React$useState2[0],\n      setState = _React$useState2[1];\n\n  var pushToServer = function pushToServer() {\n    return _regeneratorRuntime.async(function pushToServer$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", true);\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var save = function save() {\n    var date, _diagnoses;\n\n    return _regeneratorRuntime.async(function save$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            date = MyDate();\n            setState(_objectSpread(_objectSpread({}, state), {}, {\n              isLoading: true\n            }));\n            _diagnoses = diagnoses.map(function (_diagnosis) {\n              if (_diagnosis.code === state.id) {\n                _diagnosis.followups = [].concat(_toConsumableArray(_diagnosis.followups), [{\n                  type: type,\n                  details: details,\n                  date: date\n                }]);\n                _diagnosis.uploaded = false;\n              }\n\n              return _diagnosis;\n            });\n            diagnosisContext.setDiagnoses(_diagnoses);\n            AsyncStorage.setItem(\"@diagnosis\", JSON.stringify(_diagnoses), function () {\n              if (pushToServer()) {\n                Alert.alert(\"Saved\", \"Follow up saved\", [{\n                  text: \"OK\",\n                  onPress: function onPress() {\n                    return navigation.navigate(\"ViewDiagnosis\", state.id);\n                  }\n                }]);\n                setState({\n                  type: 0,\n                  details: \"\",\n                  followups: [],\n                  isLoading: false\n                });\n              }\n            });\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var _header = function _header() {\n    return _jsx(CustomHeader, {\n      left: _jsx(TouchableOpacity, {\n        style: {\n          marginHorizontal: 4,\n          width: 35,\n          height: 35,\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        onPress: function onPress() {\n          return navigation.goBack();\n        },\n        children: _jsx(Icon, {\n          name: \"arrow-left\",\n          size: 25,\n          color: COLORS.BLACK\n        })\n      }),\n      title: _jsx(Text, {\n        style: [STYLES.centerHeader, STYLES.title],\n        children: \"Add Follow up\"\n      }),\n      right: _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return save();\n        },\n        style: {\n          marginHorizontal: 4,\n          width: 35,\n          height: 35,\n          borderRadius: 100,\n          backgroundColor: COLORS.BLACK,\n          borderColor: COLORS.BLACK,\n          borderStyle: \"solid\",\n          borderWidth: 1,\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        children: _jsx(Icon, {\n          name: \"check\",\n          size: 25,\n          color: COLORS.WHITE\n        })\n      })\n    });\n  };\n\n  var isLoading = state.isLoading,\n      details = state.details,\n      type = state.type;\n  if (isLoading) return _jsx(Loader, {});\n  return _jsxs(View, {\n    style: STYLES.wrapper,\n    children: [_jsx(StatusBar, {\n      backgroundColor: COLORS.WHITE_LOW,\n      barStyle: \"dark-content\"\n    }), _header(), _jsxs(ScrollView, {\n      style: STYLES.body,\n      children: [_jsx(View, {\n        style: STYLES.terms,\n        children: _jsx(Text, {\n          children: \"Enter follow up details below.\"\n        })\n      }), _jsxs(Picker, {\n        style: STYLES.pickers,\n        itemStyle: {\n          borderBottomColor: \"#000\",\n          borderBottomStyle: \"solid\"\n        },\n        selectedValue: type,\n        onValueChange: function onValueChange(value, index) {\n          return setState(_objectSpread(_objectSpread({}, state), {}, {\n            type: value\n          }));\n        },\n        children: [_jsx(Picker.Item, {\n          label: \"Choose Type\",\n          value: \"0\"\n        }), _jsx(Picker.Item, {\n          label: \"Trimester 1\",\n          value: \"1\"\n        }), _jsx(Picker.Item, {\n          label: \"Trimester 2\",\n          value: \"2\"\n        }), _jsx(Picker.Item, {\n          label: \"Trimester 3\",\n          value: \"3\"\n        }), _jsx(Picker.Item, {\n          label: \"General\",\n          value: \"4\"\n        })]\n      }), _jsx(TextInput, {\n        style: STYLES.input,\n        autoCorrect: false,\n        multiline: true,\n        underlineColorAndroid: \"rgba(0,0,0,0.7)\",\n        placeholderTextColor: \"rgba(0,0,0,0.7)\",\n        selectionColor: COLORS.SECONDARY,\n        onChangeText: function onChangeText(text) {\n          return setState(_objectSpread(_objectSpread({}, state), {}, {\n            details: text\n          }));\n        },\n        value: details,\n        placeholder: \"Description...\"\n      })]\n    })]\n  });\n};\n\nvar STYLES = StyleSheet.create({\n  wrapper: {\n    flex: 1,\n    backgroundColor: COLORS.SECONDARY\n  },\n  header: {\n    flex: 1\n  },\n  body: {\n    flex: 2,\n    padding: 20\n  },\n  alert: {\n    color: COLORS.GREY,\n    textAlign: \"center\",\n    marginTop: 15\n  },\n  subtitle: {\n    flexDirection: \"row\",\n    fontSize: 10,\n    color: COLORS.GREY\n  },\n  label: {\n    fontWeight: \"bold\",\n    marginLeft: 5,\n    marginRight: 5\n  },\n  title: {\n    fontWeight: \"bold\",\n    color: COLORS.SECONDARY,\n    alignItems: \"center\"\n  },\n  leftHeader: {\n    marginLeft: 10,\n    flex: 1\n  },\n  centerHeader: {\n    flex: 2,\n    alignItems: \"center\"\n  },\n  rightHeader: {\n    paddingRight: 10\n  },\n  tip: {\n    color: \"rgba(0,0,0,0.4)\",\n    paddingTop: 15,\n    paddingBottom: 15\n  },\n  input: {\n    color: \"rgba(0,0,0,0.6)\"\n  },\n  terms: {\n    paddingTop: 10,\n    paddingBottom: 10\n  },\n  pickers: {\n    borderBottomColor: \"rgba(0,0,0,0.7)\",\n    borderBottomWidth: 1,\n    marginBottom: 5\n  },\n  labeled: {\n    flexDirection: \"row\",\n    marginTop: 10,\n    marginBottom: 10,\n    paddingBottom: 10,\n    borderBottomColor: \"rgba(0,0,0,0.7)\",\n    borderBottomWidth: 1\n  },\n  label: {\n    flex: 2\n  },\n  field: {\n    flex: 1,\n    justifyContent: \"flex-end\"\n  },\n  btnSubmit: {\n    backgroundColor: COLORS.ACCENT_1,\n    width: 40,\n    height: 40,\n    borderRadius: 100,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    shadowOpacity: 0.32,\n    shadowRadius: 5.46,\n    elevation: 9,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    alignSelf: \"flex-end\",\n    position: \"absolute\",\n    zIndex: 9999999\n  }\n});\nexport default FollowUp;","map":{"version":3,"sources":["/Users/davidofug/Documents/Apps/mobile-apps/mobiklinic/components/screens/diagnosis.follow.up.js"],"names":["React","Picker","Icon","COLORS","DIMENS","AsyncStorage","MyDate","Loader","DiagnosisContext","CustomHeader","FollowUp","route","navigation","diagnosisContext","useContext","diagnoses","useState","id","params","item","type","details","isLoading","state","setState","pushToServer","save","date","_diagnoses","map","_diagnosis","code","followups","uploaded","setDiagnoses","setItem","JSON","stringify","Alert","alert","text","onPress","navigate","_header","marginHorizontal","width","height","justifyContent","alignItems","goBack","BLACK","STYLES","centerHeader","title","borderRadius","backgroundColor","borderColor","borderStyle","borderWidth","WHITE","wrapper","WHITE_LOW","body","terms","pickers","borderBottomColor","borderBottomStyle","value","index","input","SECONDARY","StyleSheet","create","flex","header","padding","color","GREY","textAlign","marginTop","subtitle","flexDirection","fontSize","label","fontWeight","marginLeft","marginRight","leftHeader","rightHeader","paddingRight","tip","paddingTop","paddingBottom","borderBottomWidth","marginBottom","labeled","field","btnSubmit","ACCENT_1","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","alignSelf","position","zIndex"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport {\n  View,\n  Alert,\n  ScrollView,\n  TextInput,\n  TouchableOpacity,\n  Text,\n  StyleSheet,\n  StatusBar,\n} from \"react-native\";\nimport { Picker } from \"@react-native-picker/picker\";\nimport Icon from \"react-native-vector-icons/Feather\";\n\nimport { COLORS, DIMENS } from \"../constants/styles\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { MyDate } from \"../helpers/functions\";\nimport Loader from \"../ui/loader\";\nimport { DiagnosisContext } from \"../providers/Diagnosis\";\nimport CustomHeader from \"../ui/custom-header\";\n\nconst FollowUp = ({ route, navigation }) => {\n  const diagnosisContext = React.useContext(DiagnosisContext);\n  const { diagnoses } = diagnosisContext;\n\n  const [state, setState] = React.useState({\n    id: route.params.item,\n    type: 0,\n    details: \"\",\n    isLoading: false,\n  });\n\n  const pushToServer = async () => {\n    return true;\n  };\n\n  const save = async () => {\n    let date = MyDate();\n    setState({ ...state, isLoading: true });\n\n    const _diagnoses = diagnoses.map((_diagnosis) => {\n      if (_diagnosis.code === state.id) {\n        _diagnosis.followups = [\n          ..._diagnosis.followups,\n          { type, details, date },\n        ];\n        _diagnosis.uploaded = false;\n      }\n\n      return _diagnosis;\n    });\n\n    diagnosisContext.setDiagnoses(_diagnoses);\n\n    AsyncStorage.setItem(\"@diagnosis\", JSON.stringify(_diagnoses), () => {\n      if (pushToServer()) {\n        Alert.alert(\"Saved\", \"Follow up saved\", [\n          {\n            text: \"OK\",\n            onPress: () => navigation.navigate(\"ViewDiagnosis\", state.id),\n          },\n        ]);\n\n        setState({\n          type: 0,\n          details: \"\",\n          followups: [],\n          isLoading: false,\n        });\n      }\n    });\n  };\n\n  const _header = () => (\n    <CustomHeader\n      left={\n        <TouchableOpacity\n          style={{\n            marginHorizontal: 4,\n            width: 35,\n            height: 35,\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n          onPress={() => navigation.goBack()}\n        >\n          <Icon name=\"arrow-left\" size={25} color={COLORS.BLACK} />\n        </TouchableOpacity>\n      }\n      title={\n        <Text style={[STYLES.centerHeader, STYLES.title]}>Add Follow up</Text>\n      }\n      right={\n        <TouchableOpacity\n          onPress={() => save()}\n          style={{\n            marginHorizontal: 4,\n            width: 35,\n            height: 35,\n            borderRadius: 100,\n            backgroundColor: COLORS.BLACK,\n            borderColor: COLORS.BLACK,\n            borderStyle: \"solid\",\n            borderWidth: 1,\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <Icon name=\"check\" size={25} color={COLORS.WHITE} />\n        </TouchableOpacity>\n      }\n    />\n  );\n\n  const { isLoading, details, type } = state;\n\n  if (isLoading) return <Loader />;\n\n  return (\n    <View style={STYLES.wrapper}>\n      <StatusBar backgroundColor={COLORS.WHITE_LOW} barStyle=\"dark-content\" />\n      {_header()}\n      <ScrollView style={STYLES.body}>\n        <View style={STYLES.terms}>\n          <Text>Enter follow up details below.</Text>\n        </View>\n\n        <Picker\n          style={STYLES.pickers}\n          itemStyle={{\n            borderBottomColor: \"#000\",\n            borderBottomStyle: \"solid\",\n          }}\n          selectedValue={type}\n          onValueChange={(value, index) => setState({ ...state, type: value })}\n        >\n          <Picker.Item label=\"Choose Type\" value=\"0\" />\n          <Picker.Item label=\"Trimester 1\" value=\"1\" />\n          <Picker.Item label=\"Trimester 2\" value=\"2\" />\n          <Picker.Item label=\"Trimester 3\" value=\"3\" />\n          <Picker.Item label=\"General\" value=\"4\" />\n        </Picker>\n\n        <TextInput\n          style={STYLES.input}\n          autoCorrect={false}\n          multiline={true}\n          underlineColorAndroid=\"rgba(0,0,0,0.7)\"\n          placeholderTextColor=\"rgba(0,0,0,0.7)\"\n          selectionColor={COLORS.SECONDARY}\n          onChangeText={(text) => setState({ ...state, details: text })}\n          value={details}\n          placeholder=\"Description...\"\n        />\n      </ScrollView>\n    </View>\n  );\n};\n\nconst STYLES = StyleSheet.create({\n  wrapper: {\n    flex: 1,\n    backgroundColor: COLORS.SECONDARY,\n  },\n  header: {\n    flex: 1,\n  },\n  body: {\n    flex: 2,\n    padding: 20,\n  },\n  alert: {\n    color: COLORS.GREY,\n    textAlign: \"center\",\n    marginTop: 15,\n  },\n  subtitle: {\n    flexDirection: \"row\",\n    fontSize: 10,\n    color: COLORS.GREY,\n  },\n  label: {\n    fontWeight: \"bold\",\n    marginLeft: 5,\n    marginRight: 5,\n  },\n  title: {\n    fontWeight: \"bold\",\n    color: COLORS.SECONDARY,\n    alignItems: \"center\",\n  },\n  leftHeader: {\n    marginLeft: 10,\n    flex: 1,\n  },\n  centerHeader: {\n    flex: 2,\n    alignItems: \"center\",\n  },\n  rightHeader: {\n    paddingRight: 10,\n  },\n  tip: {\n    color: \"rgba(0,0,0,0.4)\",\n    paddingTop: 15,\n    paddingBottom: 15,\n  },\n  input: {\n    color: \"rgba(0,0,0,0.6)\",\n  },\n  terms: {\n    paddingTop: 10,\n    paddingBottom: 10,\n  },\n  pickers: {\n    borderBottomColor: \"rgba(0,0,0,0.7)\",\n    borderBottomWidth: 1,\n    marginBottom: 5,\n  },\n  labeled: {\n    flexDirection: \"row\",\n    marginTop: 10,\n    marginBottom: 10,\n    paddingBottom: 10,\n    borderBottomColor: \"rgba(0,0,0,0.7)\",\n    borderBottomWidth: 1,\n  },\n  label: {\n    flex: 2,\n  },\n  field: {\n    flex: 1,\n    justifyContent: \"flex-end\",\n  },\n  btnSubmit: {\n    backgroundColor: COLORS.ACCENT_1,\n    width: 40,\n    height: 40,\n    borderRadius: 100,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 4,\n    },\n    shadowOpacity: 0.32,\n    shadowRadius: 5.46,\n    elevation: 9,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    alignSelf: \"flex-end\",\n    position: \"absolute\",\n    zIndex: 9999999,\n  },\n});\n\nexport default FollowUp;\n"]},"metadata":{},"sourceType":"module"}